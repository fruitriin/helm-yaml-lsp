# Helm YAML LSP é–‹ç™ºé€²æ—

**æœ€çµ‚æ›´æ–°**: 2026-01-26 22:00

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

Argo Workflows Language Server Protocol (LSP) å®Ÿè£…ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€‚VSCodeæ‹¡å¼µæ©Ÿèƒ½ã‹ã‚‰ç‹¬ç«‹ã—ãŸLSPã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦ã€Argo Workflowsã€Helmã€Kubernetes YAMLãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã™ã‚‹é«˜åº¦ãªç·¨é›†æ”¯æ´æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

**å…ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: `vscode-kubernetes-tools-argo`ï¼ˆgit submoduleï¼‰
**ãƒ„ãƒ¼ãƒ«ãƒã‚§ã‚¤ãƒ³**: Bunï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ï¼†ãƒãƒ³ãƒ‰ãƒ©ï¼‰
**Linter/Formatter**: Biome

---

## Phase 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ… å®Œäº†

**æœŸé–“**: 2026-01-26
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†

### å®Ÿè£…å†…å®¹

#### 1. ãƒ¢ãƒãƒ¬ãƒæ§‹é€ ã®ä½œæˆï¼ˆbun workspacesï¼‰
- âœ… ãƒ«ãƒ¼ãƒˆ `package.json` ã«workspacesè¨­å®š
- âœ… bunã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¨ã—ã¦è¨­å®š
- âœ… å…±é€š `tsconfig.json` ä½œæˆ
- âœ… `.gitignore` è¨­å®š

**æˆæœç‰©**:
```
helm-yaml-lsp/
â”œâ”€â”€ package.json          # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆ
â”œâ”€â”€ tsconfig.json         # å…±é€šTypeScriptè¨­å®š
â”œâ”€â”€ bunfig.toml          # Bunè¨­å®š
â””â”€â”€ .gitignore
```

#### 2. packages/server ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆLSPã‚µãƒ¼ãƒãƒ¼ï¼‰
- âœ… ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ ä½œæˆ
- âœ… `vscode-languageserver@9.0.1` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- âœ… åŸºæœ¬çš„ãªLSPã‚µãƒ¼ãƒãƒ¼ã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿè£…
- âœ… å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆ`src/types/index.ts`ï¼‰
- âœ… ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä¾‹ä½œæˆï¼ˆ`src/utils/logger.ts`ï¼‰

**æˆæœç‰©**:
```
packages/server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ server.ts        # LSPã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts     # å‹å®šç¾©
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ logger.ts    # ãƒ­ã‚¬ãƒ¼ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ dist/                # ãƒ“ãƒ«ãƒ‰æˆæœç‰©
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

**æä¾›æ©Ÿèƒ½**:
- âœ… å®šç¾©ã¸ç§»å‹•ï¼ˆã‚¹ã‚±ãƒ«ãƒˆãƒ³ï¼‰
- âœ… ãƒ›ãƒãƒ¼æƒ…å ±ï¼ˆãƒ‡ãƒ¢å®Ÿè£…ï¼‰
- âœ… è£œå®Œæ©Ÿèƒ½ï¼ˆãƒ‡ãƒ¢å®Ÿè£…ï¼‰
- âœ… LSPæ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«æº–æ‹ 

#### 3. packages/vscode-client ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆVSCodeæ‹¡å¼µï¼‰
- âœ… ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹é€ ä½œæˆ
- âœ… `vscode-languageclient@9.0.1` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- âœ… Language Clientã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆå®Ÿè£…
- âœ… å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆ`src/types/index.ts`ï¼‰

**æˆæœç‰©**:
```
packages/vscode-client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ extension.ts     # VSCodeæ‹¡å¼µã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts     # å‹å®šç¾©
â”œâ”€â”€ dist/                # ãƒ“ãƒ«ãƒ‰æˆæœç‰©
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

**è¨­å®š**:
- âœ… YAML/Helmãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯¾è±¡ã«è¨­å®š
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–è¨­å®š
- âœ… ã‚µãƒ¼ãƒãƒ¼èµ·å‹•è¨­å®šï¼ˆIPCé€šä¿¡ï¼‰

#### 4. ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰ï¼ˆbun buildï¼‰
- âœ… bunã‚’ãƒãƒ³ãƒ‰ãƒ©ã¨ã—ã¦ä½¿ç”¨
- âœ… TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è¨­å®š
- âœ… ã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ—ç”Ÿæˆ
- âœ… watch ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…

**ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰**:
```bash
bun run build          # å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
bun run watch          # ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
bun run clean          # ã‚¯ãƒªãƒ¼ãƒ³
```

**ãƒ“ãƒ«ãƒ‰çµæœ**:
- âœ… Server: 70 modules â†’ 0.38 MB
- âœ… Client: 123 modules â†’ 0.74 MB
- âœ… ãƒ“ãƒ«ãƒ‰æ™‚é–“: ~30ms

#### 5. é–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ç’°å¢ƒã®æ§‹ç¯‰
- âœ… `.vscode/launch.json` - ãƒ‡ãƒãƒƒã‚°è¨­å®š
- âœ… `.vscode/tasks.json` - ãƒ“ãƒ«ãƒ‰ã‚¿ã‚¹ã‚¯
- âœ… `.vscode/settings.json` - ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®š
- âœ… `.vscode/extensions.json` - æ¨å¥¨æ‹¡å¼µæ©Ÿèƒ½

**ãƒ‡ãƒãƒƒã‚°è¨­å®š**:
- âœ… Launch Extensionï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã¿ï¼‰
- âœ… Attach to Serverï¼ˆã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ã‚¿ãƒƒãƒï¼‰
- âœ… Client + Serverï¼ˆè¤‡åˆãƒ‡ãƒãƒƒã‚°ï¼‰

#### 6. ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®šï¼ˆ"@/"ï¼‰
- âœ… TypeScript `paths` è¨­å®š
- âœ… bunã®è‡ªå‹•è§£æ±ºç¢ºèª
- âœ… ã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…ï¼ˆå‹å®šç¾©ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼‰

**ä½¿ç”¨ä¾‹**:
```typescript
// "@/" ã‚¨ã‚¤ãƒªã‚¢ã‚¹ä½¿ç”¨
import { type ServerSettings } from '@/types';
```

#### 7. ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- âœ… `samples/test-workflow.yaml` - ãƒ†ã‚¹ãƒˆç”¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- âœ… ãƒ›ãƒãƒ¼æ©Ÿèƒ½ã®å‹•ä½œç¢ºèªç”¨

### Phase 1 å®Œäº†å†…å®¹ã®è©³ç´°

#### 7. Neovim ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£… âœ…

**æˆæœç‰©**:
```
packages/nvim-client/
â”œâ”€â”€ lua/
â”‚   â””â”€â”€ argo-workflows-lsp/
â”‚       â””â”€â”€ init.lua          # Neovim LSPè¨­å®š
â”œâ”€â”€ test.yaml                 # å‹•ä½œç¢ºèªç”¨ã‚µãƒ³ãƒ—ãƒ«
â”œâ”€â”€ test-plugin.sh            # è‡ªå‹•æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
â””â”€â”€ README.md                 # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
```

**æ©Ÿèƒ½**:
- âœ… LSPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®šï¼ˆnvim-lspconfigä½¿ç”¨ï¼‰
- âœ… ã‚µãƒ¼ãƒãƒ¼ãƒ‘ã‚¹è‡ªå‹•è§£æ±º
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—è¨­å®šï¼ˆyaml, yaml.helmï¼‰
- âœ… on_attach ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯¾å¿œ
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨é€šçŸ¥

**å‹•ä½œç¢ºèª**:
- âœ… ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ­ãƒ¼ãƒ‰ç¢ºèª
- âœ… ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ï¼ˆnvim-lspconfigï¼‰
- âœ… ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ç¢ºèª
- âš ï¸ æ‰‹å‹•ãƒ†ã‚¹ãƒˆãŒå¿…è¦ï¼ˆnvim-lspconfigã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œï¼‰

#### 8. è‡ªå‹•æ¤œè¨¼ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ âœ…

**æˆæœç‰©**:
- âœ… `packages/nvim-client/test-plugin.sh` - Neovimã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
  - Neovimãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ­ãƒ¼ãƒ‰ç¢ºèª
  - LSPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•ç¢ºèªï¼ˆnvim-lspconfigå¿…é ˆï¼‰
  - ã‚µãƒ¼ãƒãƒ¼ capabilities å–å¾—ç¢ºèª
  - ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

- âœ… `packages/server/test-server.sh` - ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ†ã‚¹ãƒˆ
  - ã‚µãƒ¼ãƒãƒ¼å˜ä½“ã§ã®èµ·å‹•ç¢ºèª
  - LSP initializeãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ç¢ºèª
  - ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã®åŸºæœ¬æ¤œè¨¼

- âœ… `test-all-clients.sh` - çµ±åˆãƒ†ã‚¹ãƒˆ
  - ã‚µãƒ¼ãƒãƒ¼ãƒ“ãƒ«ãƒ‰
  - ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ†ã‚¹ãƒˆ
  - Neovimã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ†ã‚¹ãƒˆï¼ˆã‚¹ã‚­ãƒƒãƒ—å¯èƒ½ï¼‰
  - çµ±åˆãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆ

#### 9. ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã®æ¤œè¨¼ âœ…

**å®Ÿæ–½å†…å®¹**:
- âœ… `vscode-uri` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å‰Šé™¤ï¼ˆNode.jsæ¨™æº–ã®`url`/`path`ã‚’ä½¿ç”¨ï¼‰
- âœ… ESLintè¨­å®šã§ `vscode` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½¿ç”¨ã‚’ç¦æ­¢
  - `packages/server/eslint.config.js` ä½œæˆ
  - `no-restricted-imports` ãƒ«ãƒ¼ãƒ«è¨­å®š
  - `vscode-languageserver*` ã¯è¨±å¯ï¼ˆLSPæ¨™æº–ï¼‰
- âœ… package.jsonã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 
  - `lint:eslint` - ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ãƒã‚§ãƒƒã‚¯
  - `lint:all` - Biomeã¨ESLintä¸¡æ–¹å®Ÿè¡Œ
- âœ… ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ†ã‚¹ãƒˆã§æ¤œè¨¼
  - ã‚µãƒ¼ãƒãƒ¼ãŒå˜ä½“ã§èµ·å‹•ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  - VSCode APIã«ä¾å­˜ã—ãªã„ã“ã¨ã‚’ç¢ºèª

**ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ï¼ˆã‚µãƒ¼ãƒãƒ¼å´ï¼‰:
- âœ… `vscode-languageserver` - LSPæ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜ï¼‰
- âœ… `vscode-languageserver-textdocument` - ãƒ†ã‚­ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜ï¼‰
- âœ… `js-yaml` - YAMLè§£æï¼ˆã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜ï¼‰
- âŒ `vscode-uri` - å‰Šé™¤æ¸ˆã¿ï¼ˆNode.jsæ¨™æº–ã§ä»£æ›¿ï¼‰

#### 10. CI/CDæº–å‚™ âœ…

**æˆæœç‰©**:
- âœ… `.github/workflows/test-clients.yml` ä½œæˆ
  - **test-server** ã‚¸ãƒ§ãƒ–: ã‚µãƒ¼ãƒãƒ¼ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•ãƒ†ã‚¹ãƒˆã€ESLintãƒã‚§ãƒƒã‚¯
  - **test-neovim-client** ã‚¸ãƒ§ãƒ–: Neovimã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ†ã‚¹ãƒˆï¼ˆnvim-lspconfigè‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰
  - **test-integration** ã‚¸ãƒ§ãƒ–: çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  - **test-multiple-os** ã‚¸ãƒ§ãƒ–: è¤‡æ•°OSå¯¾å¿œãƒ†ã‚¹ãƒˆï¼ˆUbuntu, macOS, Windowsï¼‰

**æ©Ÿèƒ½**:
- âœ… è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆpush/PRæ™‚ï¼‰
- âœ… è¤‡æ•°OSã§ã®ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ†ã‚¹ãƒˆ
- âœ… Biomeã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
- âœ… ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã®ç¶™ç¶šçš„æ¤œè¨¼

#### Phase 1 å®Œäº†åŸºæº–ï¼ˆLSP_MIGRATION_PLAN.md æº–æ‹ ï¼‰âœ…

ä»¥ä¸‹ãŒã™ã¹ã¦æº€ãŸã•ã‚ŒãŸæ™‚ç‚¹ã§ Phase 1 å®Œäº†ã¨ã™ã‚‹ï¼š

- [x] 1. ã‚µãƒ¼ãƒãƒ¼ãŒ `bun run build` ã§ãƒ“ãƒ«ãƒ‰ã§ãã‚‹
- [x] 2. ã‚µãƒ¼ãƒãƒ¼ãŒå˜ä½“ã§èµ·å‹•ã§ãã‚‹
- [x] 3. VSCodeã‹ã‚‰æ¥ç¶šã§ãã‚‹
- [x] 4. **Neovimã‹ã‚‰æ¥ç¶šã§ãã‚‹**ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…å®Œäº†ã€æ‰‹å‹•ãƒ†ã‚¹ãƒˆå¯èƒ½ï¼‰
- [x] 5. LSPåˆæœŸåŒ–ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒæ­£å¸¸ã«å®Œäº†ã™ã‚‹
- [x] 6. **ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜ãªã‚³ãƒ¼ãƒ‰ç¢ºèª**ï¼ˆESLintã§æ¤œè¨¼ã€`vscode` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã—ï¼‰
- [x] 7. ãƒ­ã‚°ã§ã‚µãƒ¼ãƒãƒ¼ã®å‹•ä½œãŒç¢ºèªã§ãã‚‹
- [x] 8. **Neovimæ‹¡å¼µæ©Ÿèƒ½ã®è‡ªå‹•æ¤œè¨¼ãƒ†ã‚¹ãƒˆãŒé€šã‚‹**ï¼ˆtest-plugin.shå®Ÿè£…ï¼‰
- [x] 9. CI/CDçµ±åˆã®æº–å‚™å®Œäº†ï¼ˆGitHub Actionsè¨­å®šå®Œäº†ï¼‰

**Phase 1 ã§å®Ÿç¾ã—ãŸä¾¡å€¤**:
- âœ… ãƒ¢ãƒãƒ¬ãƒæ§‹é€ ã¨ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 
- âœ… æœ€å°é™ã®LSPã‚µãƒ¼ãƒãƒ¼å®Ÿè£…ï¼ˆdefinition, hover, completionï¼‰
- âœ… **VSCodeã¨Neovimä¸¡æ–¹ã§å‹•ä½œå¯èƒ½**ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…å®Œäº†ï¼‰
- âœ… **ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã®æ—©æœŸæ¤œè¨¼**ï¼ˆESLintã«ã‚ˆã‚‹é™çš„è§£æã€ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ†ã‚¹ãƒˆï¼‰
- âœ… **ç¶™ç¶šçš„ãªå‹•ä½œç¢ºèªã®ä»•çµ„ã¿**ï¼ˆè‡ªå‹•ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã€CI/CDï¼‰

---

## Phase 1 è¿½åŠ æ”¹å–„ âœ… å®Œäº†

**æœŸé–“**: 2026-01-26 (åˆå¾Œ)
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†

### å®Ÿè£…å†…å®¹

#### 1. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®æ”¹å–„
- âœ… `packages/client` â†’ `packages/vscode-client` ã«æ”¹å
  - é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ï¼ˆlaunch.json, tasks.json, ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç­‰ï¼‰
  - Neovimã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã®å¯¾æ¯”ã‚’æ˜ç¢ºåŒ–

#### 2. ãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ©ã®è¿‘ä»£åŒ–
- âœ… shã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰`bun test`ã«å®Œå…¨ç§»è¡Œ
  - `packages/server/test-server.sh` â†’ `packages/server/test/server.test.ts`
  - `packages/nvim-client/test-plugin.sh` â†’ `packages/nvim-client/test/plugin.test.ts`
  - `test-all-clients.sh` â†’ `test/integration.test.ts`
  - `packages/vscode-client/test/extension.test.ts` æ–°è¦ä½œæˆ

**ãƒ†ã‚¹ãƒˆå†…å®¹**:
- Server Tests (4ãƒ†ã‚¹ãƒˆ): èµ·å‹•ã€LSPé€šä¿¡ã€ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã€ãƒ“ãƒ«ãƒ‰æ¤œè¨¼
- VSCode Client Tests (6ãƒ†ã‚¹ãƒˆ): ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ã€è¨­å®šã€ãƒ“ãƒ«ãƒ‰ã€ã‚µãƒ¼ãƒãƒ¼å‚ç…§
- Neovim Client Tests (5ãƒ†ã‚¹ãƒˆ): Luaè¨­å®šã€ã‚µãƒ³ãƒ—ãƒ«ã€READMEã€æ§‹æ–‡ã€çµ±åˆãƒ†ã‚¹ãƒˆ
- Integration Tests (6ãƒ†ã‚¹ãƒˆ): ãƒ“ãƒ«ãƒ‰ã€èµ·å‹•ã€æ§‹é€ ã€ä¾å­˜é–¢ä¿‚ã€è¨­å®šã€ã‚µãƒ³ãƒ—ãƒ«

**çµæœ**: 21 tests passed, 48 assertions, 4 test files, ~3ç§’

#### 3. TypeScriptå‹å®šç¾©ã®æ•´å‚™
- âœ… å„ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å°‚ç”¨`tsconfig.json`ä½œæˆ
  - `packages/server/test/tsconfig.json`
  - `packages/vscode-client/test/tsconfig.json`
  - `packages/nvim-client/test/tsconfig.json`
  - `test/tsconfig.json`
- âœ… `@types/bun` ã‚’å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«è¿½åŠ 
- âœ… IDE diagnosticsï¼ˆ`bun:test`å‹ã‚¨ãƒ©ãƒ¼ï¼‰ã‚’å®Œå…¨è§£æ¶ˆ

#### 4. ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ã®å¼·åŒ–
- âœ… `bun run check` ã« TypeScriptå‹ãƒã‚§ãƒƒã‚¯çµ±åˆ
  - `bun run typecheck` - `tsc --noEmit` ã§å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‹ãƒ†ã‚¹ãƒˆã‚’ãƒã‚§ãƒƒã‚¯
  - `biome check` - lint/formatãƒã‚§ãƒƒã‚¯
- âœ… CI/CDã«å‹ãƒã‚§ãƒƒã‚¯ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ 

**ã‚³ãƒãƒ³ãƒ‰æ§‹æˆ**:
```bash
bun run check       # TypeScriptå‹ãƒã‚§ãƒƒã‚¯ + Biome
bun run typecheck   # TypeScriptå‹ãƒã‚§ãƒƒã‚¯ã®ã¿
bun run test        # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
bun run build       # å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
```

#### 5. CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ›´æ–°
- âœ… `.github/workflows/test-clients.yml` æ›´æ–°
  - shã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰`bun test`ã«ç§»è¡Œ
  - å‹ãƒã‚§ãƒƒã‚¯ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ 
  - å…¨ã‚¸ãƒ§ãƒ–ã§çµ±ä¸€ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### æˆæœç‰©

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆæœ€æ–°ï¼‰**:
```
helm-yaml-lsp/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ test/              # âœ¨ bun test
â”‚   â”‚   â”‚   â”œâ”€â”€ server.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚   â””â”€â”€ dist/
â”‚   â”œâ”€â”€ vscode-client/         # âœ¨ æ”¹å
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ test/              # âœ¨ bun test
â”‚   â”‚   â”‚   â”œâ”€â”€ extension.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚   â””â”€â”€ dist/
â”‚   â””â”€â”€ nvim-client/
â”‚       â”œâ”€â”€ lua/
â”‚       â””â”€â”€ test/              # âœ¨ bun test
â”‚           â”œâ”€â”€ plugin.test.ts
â”‚           â””â”€â”€ tsconfig.json
â”œâ”€â”€ test/                      # âœ¨ çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ integration.test.ts
â”‚   â””â”€â”€ tsconfig.json
â””â”€â”€ .github/workflows/
    â””â”€â”€ test-clients.yml       # âœ¨ å‹ãƒã‚§ãƒƒã‚¯ + bun test
```

### æ¤œè¨¼çµæœ

âœ… **ãƒ“ãƒ«ãƒ‰**:
- Server: 70 modules â†’ 0.38 MB (11-26ms)
- Client: 123 modules â†’ 0.74 MB (13-16ms)

âœ… **ãƒ†ã‚¹ãƒˆ**:
- 21 tests passed, 0 failed
- 48 expect() assertions
- 4 test files
- Duration: ~3 seconds

âœ… **å‹ãƒã‚§ãƒƒã‚¯**:
- server: tsc --noEmit (src + test) âœ“
- vscode-client: tsc --noEmit (src + test) âœ“
- IDE diagnostics: å…¨ã‚¨ãƒ©ãƒ¼è§£æ¶ˆ âœ“

âœ… **ã‚³ãƒ¼ãƒ‰å“è³ª**:
- Biome: 26 files checked, 0 errors
- ESLint: vscodeãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¾å­˜ãªã— âœ“

### åˆ©ç‚¹

**å¾“æ¥ã®shã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨æ¯”è¼ƒã—ã¦**:
- âœ… å‹å®‰å…¨: TypeScriptã§è¨˜è¿°ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã‚¨ãƒ©ãƒ¼æ¤œå‡º
- âœ… çµ±ä¸€: å…¨ã¦bunã§å®Ÿè¡Œã€ç’°å¢ƒä¾å­˜ãªã—
- âœ… ä¿å®ˆæ€§: ãƒ†ã‚¹ãƒˆãƒ­ã‚¸ãƒƒã‚¯ãŒã‚³ãƒ¼ãƒ‰ã¨ã—ã¦ç®¡ç†
- âœ… ãƒ‡ãƒãƒƒã‚°: IDEã§ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¨­å®šå¯èƒ½
- âœ… ä¸¦åˆ—å®Ÿè¡Œ: bunãŒè‡ªå‹•æœ€é©åŒ–
- âœ… ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ : Windows/macOS/LinuxåŒä¸€å‹•ä½œ
- âœ… IDEçµ±åˆ: å‹ã‚¨ãƒ©ãƒ¼ãŒã‚¨ãƒ‡ã‚£ã‚¿ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º

---

## Biomeã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— âœ… å®Œäº†

**æœŸé–“**: 2026-01-26
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†

### å®Ÿè£…å†…å®¹

#### 1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- âœ… `@biomejs/biome@2.3.12` ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

#### 2. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒˆ
- âœ… `biome.json` ä½œæˆ
- âœ… ã‚¹ã‚­ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ 2.3.12 ã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒˆ
- âœ… ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¨­å®šï¼ˆã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚ªãƒ¼ãƒˆã€ã‚»ãƒŸã‚³ãƒ­ãƒ³ã€2ã‚¹ãƒšãƒ¼ã‚¹ï¼‰
- âœ… Lintãƒ«ãƒ¼ãƒ«è¨­å®šï¼ˆæ¨å¥¨ãƒ«ãƒ¼ãƒ«æœ‰åŠ¹ï¼‰
- âœ… ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã§ `console.log` è¨±å¯

#### 3. package.jsonã‚¹ã‚¯ãƒªãƒ—ãƒˆæ›´æ–°
**ãƒ«ãƒ¼ãƒˆ**:
```json
{
  "lint": "biome lint .",
  "lint:fix": "biome lint --write .",
  "format": "biome format .",
  "format:write": "biome format --write .",
  "check": "biome check .",
  "check:write": "biome check --write ."
}
```

**å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**:
```json
{
  "lint": "biome lint src",
  "format": "biome format src"
}
```

#### 4. VSCodeçµ±åˆ
- âœ… `.vscode/settings.json` æ›´æ–°
  - ä¿å­˜æ™‚ã«è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã‚’ Biome ã«è¨­å®š
  - Code Actions on Save è¨­å®š
- âœ… `.vscode/extensions.json` ã« Biome è¿½åŠ 

#### 5. ã‚³ãƒ¼ãƒ‰è‡ªå‹•ä¿®æ­£
ä»¥ä¸‹ã‚’è‡ªå‹•ä¿®æ­£ï¼š
- âœ… TypeScriptå‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆã« `type` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¿½åŠ 
- âœ… Node.jsçµ„ã¿è¾¼ã¿ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã« `node:` ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¿½åŠ 
- âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã®æ•´ç†
- âœ… ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆçµ±ä¸€ï¼ˆ17ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

#### 6. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- âœ… `BIOME_SETUP.md` - è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
- âœ… `README.md` æ›´æ–°
- âœ… `CLAUDE.md` æ›´æ–°

#### 7. .gitignoreæ›´æ–°
- âœ… `.bun-cache` è¿½åŠ ï¼ˆBunã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
- âœ… ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ã¨ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
- âœ… `bun.lock` ã¯ã‚³ãƒŸãƒƒãƒˆå¯¾è±¡ã¨ã—ã¦ä¿æŒ
- âœ… ä¸è¦ãª `pnpm-lock.yaml` ã‚¨ãƒ³ãƒˆãƒªã‚’å‰Šé™¤
- âœ… `.gitignore.md` ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **ãƒã‚§ãƒƒã‚¯æ™‚é–“**: 17ãƒ•ã‚¡ã‚¤ãƒ« â†’ 4ms âš¡
- **è‡ªå‹•ä¿®æ­£**: 17ãƒ•ã‚¡ã‚¤ãƒ« â†’ 38ms
- **ã‚¨ãƒ©ãƒ¼**: 0ä»¶
- **è­¦å‘Š**: 0ä»¶

---

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ä½œæˆæ¸ˆã¿ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

1. **README.md** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
2. **CLAUDE.md** - Claude Codeå‘ã‘ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹
3. **BIOME_SETUP.md** - Biomeã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
4. **.gitignore.md** - .gitignoreè¨­å®šã‚¬ã‚¤ãƒ‰
5. **progress.md** - é–‹ç™ºé€²æ—ï¼ˆã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

### å‚ç…§å¯èƒ½ãªè¨ˆç”»æ›¸

- `vscode-kubernetes-tools-argo/LSP_MIGRATION_PLAN.md` - è©³ç´°ãªç§»è¡Œè¨ˆç”»

---

## ç¾åœ¨ã®çŠ¶æ…‹

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
helm-yaml-lsp/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ server/              # Language Server
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ dist/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â””â”€â”€ client/              # VSCode Client
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ extension.ts
â”‚       â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ dist/
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ tsconfig.json
â”œâ”€â”€ .vscode/                 # VSCodeè¨­å®š
â”‚   â”œâ”€â”€ launch.json
â”‚   â”œâ”€â”€ tasks.json
â”‚   â”œâ”€â”€ settings.json
â”‚   â””â”€â”€ extensions.json
â”œâ”€â”€ vscode-kubernetes-tools-argo/  # å…ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆsubmoduleï¼‰
â”œâ”€â”€ samples/                 # ãƒ†ã‚¹ãƒˆã‚µãƒ³ãƒ—ãƒ«
â”œâ”€â”€ biome.json              # Biomeè¨­å®š
â”œâ”€â”€ bunfig.toml             # Bunè¨­å®š
â”œâ”€â”€ package.json            # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆ
â”œâ”€â”€ tsconfig.json           # å…±é€šTypeScriptè¨­å®š
â”œâ”€â”€ README.md
â”œâ”€â”€ CLAUDE.md
â”œâ”€â”€ BIOME_SETUP.md
â””â”€â”€ progress.md             # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

### ä¾å­˜é–¢ä¿‚ï¼ˆæœ€æ–°ï¼‰

**Server** (`packages/server`):
- `vscode-languageserver@9.0.1` - LSPæ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«
- `vscode-languageserver-textdocument@1.0.11` - ãƒ†ã‚­ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†
- `js-yaml@4.1.0` - YAMLè§£æ
- âŒ `vscode-uri` - å‰Šé™¤æ¸ˆã¿ï¼ˆNode.jsæ¨™æº–ã®`url`/`path`ä½¿ç”¨ï¼‰

**Dev Dependencies** (Server):
- `@types/bun@1.3.6` - Bunãƒ†ã‚¹ãƒˆå‹å®šç¾©
- `@types/js-yaml@4.0.9`
- `@types/node@20.11.5`
- `@typescript-eslint/eslint-plugin@8.53.1` - ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§æ¤œè¨¼
- `@typescript-eslint/parser@8.53.1`
- `eslint@9.39.2`
- `typescript@5.3.3`

**VSCode Client** (`packages/vscode-client`):
- `vscode-languageclient@9.0.1` - VSCode LSPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

**Dev Dependencies** (VSCode Client):
- `@types/bun@1.3.6` - Bunãƒ†ã‚¹ãƒˆå‹å®šç¾©
- `@types/node@20.11.5`
- `@types/vscode@1.85.0`
- `@vscode/vsce@2.22.0` - VSIX ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
- `typescript@5.3.3`

**Neovim Client** (`packages/nvim-client`):
- `@types/bun@1.3.6` - Bunãƒ†ã‚¹ãƒˆå‹å®šç¾©ã®ã¿ï¼ˆLuaå®Ÿè¡Œæ™‚ä¾å­˜ãªã—ï¼‰

**Root**:
- `@biomejs/biome@2.3.12` - Linter & Formatter
- `@types/bun@1.3.6` - Bunãƒ†ã‚¹ãƒˆå‹å®šç¾©
- `@types/node@20.11.5`
- `typescript@5.3.3`

### å‹•ä½œç¢ºèªï¼ˆæœ€æ–°ï¼‰

- âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸ: `bun run build`
- âœ… å‹ãƒã‚§ãƒƒã‚¯é€šé: `bun run typecheck` (IDE diagnosticsåŒç­‰)
- âœ… ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯é€šé: `bun run check` (å‹ + Biome)
- âœ… ãƒ†ã‚¹ãƒˆæˆåŠŸ: `bun run test` (21 tests passed)
- âœ… ãƒ‡ãƒãƒƒã‚°è¨­å®šå‹•ä½œç¢ºèª
- âœ… ãƒ›ãƒãƒ¼æ©Ÿèƒ½å‹•ä½œï¼ˆãƒ‡ãƒ¢ï¼‰

**æ³¨æ„**: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¯å¿…ãš `bun run test` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
ç›´æ¥ `bun test` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å«ã‚€å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚

---

## Phase 2: ã‚³ã‚¢æ©Ÿèƒ½ã®ç§»æ¤ï¼ˆæ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ”œ æœªç€æ‰‹

### Phase 2.1: å‹å®šç¾©ã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ç§»æ¤

**ã‚¿ã‚¹ã‚¯**:
- [ ] `argo-types.ts` ã‚’ `server/src/types/argo.ts` ã«ç§»è¡Œ
- [ ] VSCodeå›ºæœ‰ã®å‹ï¼ˆ`vscode.Uri`, `vscode.Range`ï¼‰ã‚’LSPæ¨™æº–å‹ã«å¤‰æ›
- [ ] ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ç§»è¡Œ
  - [ ] `argo-yaml-parser/utils.ts` â†’ `server/src/utils/yamlUtils.ts`
  - [ ] `helm-utils.ts` â†’ `server/src/utils/helmUtils.ts`

**å¤‰æ›ä¾‹**:
```typescript
// Before (VSCode API)
interface TemplateDefinition {
  uri: vscode.Uri;
  range: vscode.Range;
}

// After (LSP Protocol)
type TemplateDefinition = {
  uri: string;                // file:// URI
  range: lsp.Range;          // LSP Rangeå‹
};
```

### Phase 2.2: YAMLãƒ‘ãƒ¼ã‚µãƒ¼å±¤ã®ç§»è¡Œ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `argo-yaml-parser/` é…ä¸‹ã®å…¨æ©Ÿèƒ½ã‚’ç§»æ¤
  - [ ] `document-detection.ts` â†’ `server/src/parsers/documentDetection.ts`
  - [ ] `template-features.ts` â†’ `server/src/parsers/templateFeatures.ts`
  - [ ] `parameter-features.ts` â†’ `server/src/parsers/parameterFeatures.ts`
  - [ ] `workflow-features.ts` â†’ `server/src/parsers/workflowFeatures.ts`
  - [ ] `configmap-features.ts` â†’ `server/src/parsers/configmapFeatures.ts`
- [ ] VSCode APIä¾å­˜ã®å‰Šé™¤
  - [ ] `vscode.TextDocument` â†’ LSP `TextDocument`
  - [ ] `vscode.Position` â†’ LSP `Position`
  - [ ] `vscode.Range` â†’ LSP `Range`

### Phase 2.3: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã®ç§»è¡Œ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `ArgoTemplateIndex` ã®ç§»è¡Œ
  - [ ] ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã‚’ LSP `FileSystemWatcher` ã«å¤‰æ›´
  - [ ] `workspace.findFiles` â†’ `fast-glob` ã¾ãŸã¯ã‚«ã‚¹ã‚¿ãƒ å®Ÿè£…
- [ ] `ConfigMapIndexer` ã®ç§»è¡Œ
- [ ] `HelmChartIndexer` ã®ç§»è¡Œ
  - [ ] `helm` ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œéƒ¨åˆ†ã¯ `child_process` ã§ç¶­æŒ
- [ ] çµ±åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã®ä½œæˆ

### Phase 2.4: Definition Provider ã®ç§»è¡Œ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `ArgoDefinitionProvider` ã‚’ `server/src/providers/definitionProvider.ts` ã«ç§»è¡Œ
- [ ] LSP `textDocument/definition` ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¨ã—ã¦å®Ÿè£…
- [ ] å„ç¨®å‚ç…§è§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã‚’ç§»æ¤
  - [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‚ç…§
  - [ ] ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å‚ç…§
  - [ ] Workflowå¤‰æ•°å‚ç…§
  - [ ] itemå¤‰æ•°å‚ç…§
  - [ ] ConfigMap/Secretå‚ç…§
  - [ ] Helm Values/includeå‚ç…§

### Phase 2.5: Hover Provider ã®ç§»è¡Œ

**ã‚¿ã‚¹ã‚¯**:
- [ ] `ArgoHoverProvider` ã¨é…ä¸‹ã®ãƒ›ãƒãƒ¼æ©Ÿèƒ½ã‚’ç§»è¡Œ
  - [ ] `template-hovers.ts`
  - [ ] `parameter-hovers.ts`
  - [ ] `workflow-variable-hovers.ts`
  - [ ] `helm-hovers.ts`
  - [ ] `configmap-hovers.ts`
- [ ] LSP `textDocument/hover` ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¨ã—ã¦å®Ÿè£…
- [ ] `vscode.Hover` â†’ LSP `Hover` ã®å¤‰æ›

---

## Phase 3: VSCodeã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ‹¡å¼µã®å®Ÿè£…ï¼ˆæœªç€æ‰‹ï¼‰

**ã‚¿ã‚¹ã‚¯**:
- [ ] `extension.ts` ã®ç°¡ç´ åŒ–
- [ ] Language Clientã®è¨­å®š
- [ ] ã‚µãƒ¼ãƒãƒ¼ãƒã‚¤ãƒŠãƒªã®ãƒãƒ³ãƒ‰ãƒ«

---

## Phase 4: ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°ï¼ˆæœªç€æ‰‹ï¼‰

**ã‚¿ã‚¹ã‚¯**:
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆã®ä½œæˆ
- [ ] ãƒ‡ãƒãƒƒã‚°è¨­å®šã®æœ€é©åŒ–

---

## Phase 5: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒªãƒ¼ã‚¹ï¼ˆæœªç€æ‰‹ï¼‰

**ã‚¿ã‚¹ã‚¯**:
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- [ ] VSCode Marketplaceå‘ã‘ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
- [ ] ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆä½œæˆ
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰

---

## æŠ€è¡“çš„ãªæ±ºå®šäº‹é …

### ãƒ„ãƒ¼ãƒ«ãƒã‚§ã‚¤ãƒ³

1. **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£**: Bun
   - ç†ç”±: é«˜é€Ÿã€TypeScript/JSXãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆã€all-in-oneãƒ„ãƒ¼ãƒ«

2. **ãƒãƒ³ãƒ‰ãƒ©**: Bun
   - ç†ç”±: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã¨çµ±åˆã€é«˜é€Ÿãƒ“ãƒ«ãƒ‰

3. **Linter/Formatter**: Biome
   - ç†ç”±: é«˜é€Ÿï¼ˆRustè£½ï¼‰ã€å˜ä¸€ãƒ„ãƒ¼ãƒ«ã§lint+formatã€å„ªã‚ŒãŸTypeScriptã‚µãƒãƒ¼ãƒˆ

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

1. **å‹å®šç¾©**: `interface` ã‚ˆã‚Š `type` ã‚’ä½¿ç”¨
2. **importæ–‡**: å‹ã®ã¿ã®å ´åˆã¯ `type` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä½¿ç”¨
3. **Node.jsçµ„ã¿è¾¼ã¿ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**: `node:` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ä½¿ç”¨
4. **ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹**: `@/` ã‚’ä½¿ç”¨ã—ã¦ `src/` ã‚’å‚ç…§
5. **æœªä½¿ç”¨å¤‰æ•°**: `_` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä½¿ç”¨

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸå‰‡

1. **ã‚µãƒ¼ãƒãƒ¼ã‚³ã‚¢ã¯ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜**
   - VSCode API (`vscode.*`) ã‚’ä¸€åˆ‡ä½¿ç”¨ã—ãªã„
   - LSPæ¨™æº–ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ã¿ã«ä¾å­˜

2. **ç´”ç²‹ãªLSPå®Ÿè£…**
   - ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’LSPãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®æ¨™æº–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å®Ÿè£…
   - ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒˆã‚³ãƒ«æ‹¡å¼µã¯æœ€å°é™

3. **ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **
   - Windowsã€macOSã€Linuxã§å‹•ä½œ
   - ãƒ‘ã‚¹å‡¦ç†ã¯æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨

---

## æ—¢çŸ¥ã®å•é¡Œ

### Phase 1 ã®è¨ˆç”»ã¨ã®ä¹–é›¢

**å•é¡Œ**: Phase 1ãŒã€Œâœ… å®Œäº†ã€ã¨ãƒãƒ¼ã‚¯ã•ã‚Œã¦ã„ãŸãŒã€LSP_MIGRATION_PLAN.md ã®é‡è¦ãªè¦ä»¶ãŒæœªå®Ÿè£…ã ã£ãŸã€‚

**å…·ä½“çš„ãªä¹–é›¢**:
1. **Neovim ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒæœªå®Ÿè£…**
   - è¨ˆç”»: "VSCodeã¨Neovimä¸¡æ–¹ã§å‹•ä½œç¢ºèªã—ã€ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã‚’æ—©æœŸã«æ¤œè¨¼ã™ã‚‹"
   - å®Ÿæ…‹: VSCodeã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã¿å®Ÿè£…ã€Neovimé–¢é€£ã¯å…¨ã¦æœªå®Ÿè£…

2. **è‡ªå‹•æ¤œè¨¼ãƒ†ã‚¹ãƒˆãŒæœªå®Ÿè£…**
   - è¨ˆç”»: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ‹¡å¼µæ©Ÿèƒ½ã®è‡ªå‹•æ¤œè¨¼ãƒ†ã‚¹ãƒˆï¼ˆ1.6ç¯€ï¼‰
   - å®Ÿæ…‹: æ‰‹å‹•ç¢ºèªã®ã¿ã€è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã—

3. **ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ãŒæœªæ¤œè¨¼**
   - è¨ˆç”»: Phase 1ã§ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã‚’æ—©æœŸã«æ¤œè¨¼
   - å®Ÿæ…‹: Neovimæœªå®Ÿè£…ã®ãŸã‚æ¤œè¨¼ä¸å¯èƒ½

**å½±éŸ¿**:
- Phase 2ä»¥é™ã§VSCodeä¾å­˜ã‚³ãƒ¼ãƒ‰ãŒæ··å…¥ã™ã‚‹ãƒªã‚¹ã‚¯
- ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§ã®ä¿è¨¼ãŒã§ããªã„
- ç¶™ç¶šçš„ãªå‹•ä½œç¢ºèªã®ä»•çµ„ã¿ãŒãªã„

**å¯¾å¿œæ–¹é‡**:
- Phase 2ã«é€²ã‚€å‰ã«ã€Phase 1ã®æ®‹ã‚¿ã‚¹ã‚¯ã‚’å®Œäº†ã•ã›ã‚‹
- ç‰¹ã« Neovim ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…ã‚’å„ªå…ˆï¼ˆã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜æ€§æ¤œè¨¼ã®ãŸã‚ï¼‰
- è‡ªå‹•æ¤œè¨¼ãƒ†ã‚¹ãƒˆã‚’æ•´å‚™ï¼ˆç¶™ç¶šçš„ãªå“è³ªä¿è¨¼ã®ãŸã‚ï¼‰

---

## ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ï¼ˆæœ€æ–°ï¼‰

### é–‹ç™º

```bash
bun run build       # å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
bun run watch       # ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
bun run clean       # ãƒ“ãƒ«ãƒ‰æˆæœç‰©å‰Šé™¤
```

### ãƒ†ã‚¹ãƒˆ

```bash
bun run test        # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ21 testsï¼‰
bun run test:packages # å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
bun run test:all    # çµ±åˆ + ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
```

### ã‚³ãƒ¼ãƒ‰å“è³ª

```bash
bun run check       # å‹ãƒã‚§ãƒƒã‚¯ + Biomeï¼ˆå®Œå…¨ãƒã‚§ãƒƒã‚¯ï¼‰
bun run typecheck   # TypeScriptå‹ãƒã‚§ãƒƒã‚¯ï¼ˆIDE diagnosticsåŒç­‰ï¼‰
bun run lint        # Biome lint
bun run format      # Biome formatãƒã‚§ãƒƒã‚¯
bun run check:write # Biomeè‡ªå‹•ä¿®æ­£
```

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°

```bash
bun run package     # VSCodeæ‹¡å¼µãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆï¼ˆVSIXï¼‰
```

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### Phase 2: ã‚³ã‚¢æ©Ÿèƒ½ã®ç§»æ¤ã®é–‹å§‹æº–å‚™

**Phase 1ãŒå®Œå…¨ã«å®Œäº†ã—ã€Phase 2ã«é€²ã‚€æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚**

#### Phase 2.1: å‹å®šç¾©ã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ç§»æ¤ï¼ˆæœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

1. **å…ƒã‚³ãƒ¼ãƒ‰ã®è§£æ**
   - `vscode-kubernetes-tools-argo/src/argo/argo-types.ts` ã‚’èª­ã‚€
   - VSCodeå›ºæœ‰ã®å‹ï¼ˆ`vscode.Uri`, `vscode.Range`, `vscode.Position`ï¼‰ã‚’ç‰¹å®š
   - ç§»æ¤ãŒå¿…è¦ãªå‹å®šç¾©ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—

2. **LSPæ¨™æº–å‹ã¸ã®å¤‰æ›ãƒãƒƒãƒ”ãƒ³ã‚°ä½œæˆ**
   ```typescript
   // å¤‰æ›ä¾‹
   vscode.Uri â†’ string (file:// URI)
   vscode.Range â†’ lsp.Range
   vscode.Position â†’ lsp.Position
   vscode.Location â†’ lsp.Location
   ```

3. **å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**
   - `packages/server/src/types/argo.ts` ä½œæˆ
   - ã‚¨ãƒ‡ã‚£ã‚¿éä¾å­˜ãªå‹å®šç¾©ã¨ã—ã¦å®Ÿè£…
   - æ—¢å­˜ã® `@/types` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ã«ã™ã‚‹

4. **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ç§»æ¤**
   - `helm-utils.ts` â†’ `packages/server/src/utils/helmUtils.ts`
   - `argo-yaml-parser/utils.ts` â†’ `packages/server/src/utils/yamlUtils.ts`
   - Node.jsæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ã‚’ä½¿ç”¨

#### Phase 2.2: YAMLãƒ‘ãƒ¼ã‚µãƒ¼å±¤ã®ç§»æ¤ï¼ˆ2ç•ªç›®ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

1. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œå‡ºæ©Ÿèƒ½ã®ç§»æ¤**
   - `document-detection.ts` â†’ `packages/server/src/parsers/documentDetection.ts`
   - `vscode.TextDocument` â†’ LSP `TextDocument`

2. **å„ç¨®ãƒ‘ãƒ¼ã‚µãƒ¼æ©Ÿèƒ½ã®ç§»æ¤**
   - `template-features.ts`
   - `parameter-features.ts`
   - `workflow-features.ts`
   - `configmap-features.ts`

#### æ‰‹å‹•ãƒ†ã‚¹ãƒˆã®æ¨å¥¨

Phase 2ã«é€²ã‚€å‰ã«ã€ä»¥ä¸‹ã®æ‰‹å‹•ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ï¼š

1. **Neovim ã§ã®å‹•ä½œç¢ºèª**
   - nvim-lspconfigã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - `cd packages/nvim-client && nvim test.yaml`
   - `:LspInfo` ã§ã‚µãƒ¼ãƒãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - ãƒ›ãƒãƒ¼æ©Ÿèƒ½ï¼ˆ`K`ã‚­ãƒ¼ï¼‰ãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª

2. **VSCode ã§ã®å‹•ä½œç¢ºèª**
   - F5ã§Extension Development Hostã‚’èµ·å‹•
   - `samples/test-workflow.yaml` ã‚’é–‹ã
   - ãƒ›ãƒãƒ¼æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª

3. **CI/CDã®ç¢ºèª**
   - GitHub ã«pushã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - ã™ã¹ã¦ã®ã‚¸ãƒ§ãƒ–ãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## å‚è€ƒè³‡æ–™

- [Language Server Protocol ä»•æ§˜](https://microsoft.github.io/language-server-protocol/)
- [vscode-languageserver-node](https://github.com/microsoft/vscode-languageserver-node)
- [Bun ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://bun.sh/docs)
- [Biome ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://biomejs.dev/)
- [Argo Workflows](https://argoproj.github.io/argo-workflows/)

---

**æ¬¡å›æ›´æ–°**: Phase 1 æ®‹ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚
